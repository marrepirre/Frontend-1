// I din script.js-fil

// Array för att hålla reda på produkter i varukorgen
let shoppingCart = [];

// Funktion för att visa varukorgen
function showShoppingCart() {
    const cartContainer = document.getElementById('shopping-cart-container');
    const cartItemsContainer = document.getElementById('cart-items');
    const cartTotalContainer = document.getElementById('cart-total');

    // Visa eller dölj varukorgen beroende på om det finns några produkter
    if (shoppingCart.length === 0) {
        cartItemsContainer.innerHTML = '<p>Varukorgen är tom.</p>';
        cartTotalContainer.innerHTML = '';
    } else {
        // Bygg HTML för varje produkt i varukorgen
        const cartItemsHTML = shoppingCart.map(item => `
            <div class="cart-item">
                <p>${item.name} - ${item.quantity} st</p>
                <p>Styckpris: ${item.price} kr</p>
            </div>
        `).join('');

        cartItemsContainer.innerHTML = cartItemsHTML;

        // Beräkna och visa totalpriset för varukorgen
        const totalAmount = shoppingCart.reduce((total, item) => total + item.price * item.quantity, 0);
        cartTotalContainer.innerHTML = `<p>Totalt: ${totalAmount} kr</p>`;
    }

    // Visa varukorgen
    cartContainer.classList.remove('hidden');
}

// Funktion för att lägga till produkt i varukorgen
function addToCart(productId, productName, price) {
    const existingItem = shoppingCart.find(item => item.productId === productId);

    if (existingItem) {
        // Om produkten redan finns, öka antalet
        existingItem.quantity += 1;
    } else {
        // Om produkten inte finns, lägg till den i varukorgen
        shoppingCart.push({
            productId: productId,
            name: productName,
            price: price,
            quantity: 1,
        });
    }

    // Visa varukorgen
    showShoppingCart();
}
// Funktion för att dölja varukorgen
function hideShoppingCart() {
    const cartContainer = document.getElementById('shopping-cart-container');
    cartContainer.classList.add('hidden');
}

// Lyssna på klick på varukorgssymbolen
document.getElementById('cart-icon').addEventListener('click', showShoppingCart);
